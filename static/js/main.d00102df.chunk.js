(this["webpackJsonpreact-2048"]=this["webpackJsonpreact-2048"]||[]).push([[0],{23:function(t,e,o){t.exports=o(39)},28:function(t,e,o){},33:function(t,e,o){},34:function(t,e,o){},35:function(t,e,o){},38:function(t,e,o){},39:function(t,e,o){"use strict";o.r(e);var i,n=o(0),r=o.n(n),a=o(10),c=o.n(a),l=(o(28),o(4)),s=o(5),f=o(11),u={gameOver:!1,boxes:[[{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1}],[{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1}],[{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1}],[{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1}]]},v=o(7),m=function(t){for(var e=Object(v.a)(t),o=[],i=0;i<4;i++){var n=Math.floor(4*Math.random());o.push(n)}return o[0]===o[2]&&o[1]===o[3]&&(o[0]=(o[0]+1)%4),e[o[0]][o[1]]=Object(s.a)({},e[o[0]][o[1]],{title:2,com_ani:!0}),e[o[2]][o[3]]=Object(s.a)({},e[o[2]][o[3]],{title:2,com_ani:!0}),e};!function(t){t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Up=2]="Up",t[t.Down=3]="Down"}(i||(i={}));var h,p=function(t,e){var o=Object(v.a)(t),n=!1;if(e===i.Up)for(var r=0;r<4;r++){for(var a=[],c=[],l=0,s=0;s<4;s++)if(0!==t[s][r].title)0===l?l=t[s][r].title:t[s][r].title===l?(!1===n&&(n=!0),a.push(2*l),c.push(a.length-1),l=0):(a.push(l),l=t[s][r].title);else if(!1===n)for(var f=s;f<4;f++)0!==t[f][r].title&&(n=!0);0!==l&&a.push(l);for(var u=a.length,m=0;m<u;m++)o[m][r].title=a[m];for(var h=u;h<4;h++)o[h][r].title=0;for(var p=c.length,d=0;d<p;d++)o[c[d]][r].com_ani=!0}if(e===i.Down)for(var g=0;g<4;g++){for(var w=[],E=[],C=0,O=3;O>=0;O--)if(0!==t[O][g].title)0===C?C=t[O][g].title:t[O][g].title===C?(!1===n&&(n=!0),w.push(2*C),E.push(w.length-1),C=0):(w.push(C),C=t[O][g].title);else if(!1===n)for(var R=O;R>=0;R--)0!==t[R][g].title&&(n=!0);0!==C&&w.push(C);for(var j=w.length,k=0;k<j;k++)o[3-k][g].title=w[k];for(var S=0;S<4-j;S++)o[S][g].title=0;for(var _=E.length,A=0;A<_;A++)o[3-E[A]][g].com_ani=!0}if(e===i.Left)for(var x=0;x<4;x++){for(var D=[],M=[],y=0,z=0;z<4;z++)if(0!==t[x][z].title)0===y?y=t[x][z].title:t[x][z].title===y?(!1===n&&(n=!0),D.push(2*y),M.push(D.length-1),y=0):(D.push(y),y=t[x][z].title);else if(!1===n)for(var L=z;L<4;L++)0!==t[x][L].title&&(n=!0);0!==y&&D.push(y);for(var U=D.length,N=0;N<U;N++)o[x][N].title=D[N];for(var F=U;F<4;F++)o[x][F].title=0;for(var J=M.length,B=0;B<J;B++)o[x][M[B]].com_ani=!0}if(e===i.Right)for(var I=0;I<4;I++){for(var T=[],W=[],G=0,V=3;V>=0;V--)if(0!==t[I][V].title)0===G?G=t[I][V].title:t[I][V].title===G?(!1===n&&(n=!0),T.push(2*G),W.push(T.length-1),G=0):(T.push(G),G=t[I][V].title);else if(!1===n)for(var $=V;$>=0;$--)0!==t[I][$].title&&(n=!0);0!==G&&T.push(G);for(var q=T.length,H=0;H<q;H++)o[I][3-H].title=T[H];for(var K=3-q;K>=0;K--)o[I][K].title=0;for(var P=W.length,Q=0;Q<P;Q++)o[I][3-W[Q]].com_ani=!0}return n?b(o):o},b=function(t){for(var e=[],o=0;o<4;o++)for(var i=0;i<4;i++)0===t[o][i].title&&e.push({i:o,j:i});var n=e.length;if(n>0){var r=e[Math.floor(Math.random()*n)];t[r.i][r.j].title=2,t[r.i][r.j].com_ani=!0}return t},d=function(t){var e=Object(v.a)(t);return t.forEach((function(t){t.forEach((function(t){t.com_ani=!1}))})),e};!function(t){t[t.MoveUp=0]="MoveUp",t[t.MoveDown=1]="MoveDown",t[t.MoveLeft=2]="MoveLeft",t[t.MoveRight=3]="MoveRight",t[t.InitRandom=4]="InitRandom",t[t.ResetComAni=5]="ResetComAni",t[t.ResetAll=6]="ResetAll"}(h||(h={}));var g=Object(f.b)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:JSON.parse(JSON.stringify(u)),e=arguments.length>1?arguments[1]:void 0;switch(e.type){case h.InitRandom:return Object(s.a)({},t,{boxes:m(t.boxes)});case h.MoveUp:return Object(s.a)({},t,{boxes:p(t.boxes,i.Up)});case h.MoveDown:return Object(s.a)({},t,{boxes:p(t.boxes,i.Down)});case h.MoveLeft:return Object(s.a)({},t,{boxes:p(t.boxes,i.Left)});case h.MoveRight:return Object(s.a)({},t,{boxes:p(t.boxes,i.Right)});case h.ResetComAni:return Object(s.a)({},t,{boxes:d(t.boxes)});case h.ResetAll:return JSON.parse(JSON.stringify(u));default:return t}})),w=function t(e){var o=this;Object(l.a)(this,t),this.dispatch=void 0,this.initRandom=function(){return o.dispatch({type:h.InitRandom})},this.moveUp=function(){return o.dispatch({type:h.MoveUp})},this.moveDown=function(){return o.dispatch({type:h.MoveDown})},this.moveLeft=function(){return o.dispatch({type:h.MoveLeft})},this.moveRight=function(){return o.dispatch({type:h.MoveRight})},this.resetComAni=function(){return o.dispatch({type:h.ResetComAni})},this.resetAll=function(){return o.dispatch({type:h.ResetAll})},this.dispatch=e},E=o(8),C=(o(33),o(22));o(34);var O=o(16),R=function(t){var e=t.box,o=e.com_ani,i=function(t){var e={title:"",color:"",titleColor:"#F9F6F2",titleSize:"1vw"};switch(e.title=0===t?"":t.toString(),t){case 0:e.color="#CCC0B4";break;case 2:e.color="#EEE4DA",e.titleColor="#776E65",e.titleSize="10vmin";break;case 4:e.color="#EDE0C8",e.titleColor="#776E65",e.titleSize="10vmin";break;case 8:e.color="#F2B179",e.titleSize="10vmin";break;case 16:e.color="#F59563",e.titleSize="9vmin";break;case 32:e.color="#F67C5F",e.titleSize="9vmin";break;case 64:e.color="#F65E3B",e.titleSize="9vmin";break;case 128:e.color="#EDCF72",e.titleSize="7vmin";break;case 256:e.color="#EDCC61",e.titleSize="7vmin";break;case 512:e.color="#EDC850",e.titleSize="7vmin";break;case 1024:e.color="#EDC53F",e.titleSize="5vmin";break;case 2048:e.color="#EDC22E",e.titleSize="5vmin";break;default:e.color="#000",e.titleSize="4vmin"}return e}(e.title),a=i.title,c=i.color,l=i.titleColor,s=i.titleSize,f=Object(n.useState)(!0),u=Object(C.a)(f,2),v=u[0],m=u[1],h=Object(O.b)({from:{x:1},x:v?1:0,config:{duration:170}}).x;return Object(n.useEffect)((function(){!0===o&&m(!v)}),[o,v]),r.a.createElement(O.a.div,{className:"box",style:Object.assign({backgroundColor:c},{transform:h.interpolate({range:[0,.5,1],output:[1,1.23,1]}).interpolate((function(t){return"scale(".concat(t,")")}))})},r.a.createElement("p",{style:{color:l,fontSize:s},className:"title"},a))},j=(o(35),function(t){var e=t.boxes;return r.a.createElement("div",{className:"game-board"},e.map((function(t,e){return r.a.createElement("div",{className:"row",key:e},t.map((function(t,o){return r.a.createElement(R,{box:t,key:4*e+o})})))})))}),k=o(20);var S=o(21),_=o.n(S),A=function(){var t=Object(E.c)((function(t){return t.boxes})),e=Object(E.b)(),o=new w(e);Object(n.useEffect)((function(){o.initRandom(),o.resetComAni();var e=function(e){var i=e.key,n=!1;"ArrowUp"===i&&(o.moveUp(),n=!0),"ArrowDown"===i&&(o.moveDown(),n=!0),"ArrowLeft"===i&&(o.moveLeft(),n=!0),"ArrowRight"===i&&(o.moveRight(),n=!0),n&&(o.resetComAni(),function(t){for(var e=t.length,o=t.length,i=0;i<e;i++)for(var n=0;n<e;n++)if(0===t[i][n].title)return!1;for(var r=0;r<e;r++)for(var a=1;a<o;a++)if(t[r][a].title===t[r][a-1].title)return!1;for(var c=0;c<e;c++)for(var l=1;l<o;l++)if(t[l][c].title===t[l-1][c].title)return!1;return!0}(t)&&_()("GAME OVER!"))};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]);var i=Object(k.a)({onSwipedLeft:function(t){o.moveLeft(),o.resetComAni()},onSwipedUp:function(t){o.moveUp(),o.resetComAni()},onSwipedDown:function(t){o.moveDown(),o.resetComAni()},onSwipedRight:function(t){o.moveRight(),o.resetComAni()},preventDefaultTouchmoveEvent:!0,trackMouse:!0,trackTouch:!0});return r.a.createElement("div",Object.assign({className:"container"},i),r.a.createElement(j,{boxes:t}))},x=(o(38),function(){var t=Object(E.b)(),e=new w(t);return r.a.createElement("div",{className:"header"},r.a.createElement("input",{type:"button",className:"button",onClick:function(){e.resetAll(),e.initRandom(),e.resetComAni()},value:"RESET"}))}),D=function(){return r.a.createElement(E.a,{store:g},r.a.createElement("div",{style:{backgroundColor:"#EEE4D9",width:"100vw",height:"100vh"}},r.a.createElement(A,null),r.a.createElement(x,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[23,1,2]]]);
//# sourceMappingURL=main.d00102df.chunk.js.map