(this["webpackJsonpreact-2048"]=this["webpackJsonpreact-2048"]||[]).push([[0],{20:function(e,t,o){e.exports=o(35)},25:function(e,t,o){},31:function(e,t,o){},32:function(e,t,o){},33:function(e,t,o){},34:function(e,t,o){},35:function(e,t,o){"use strict";o.r(t);var i,n=o(0),r=o.n(n),a=o(10),c=o.n(a),l=(o(25),o(4)),s=o(5),f=o(11),u={boxes:[[{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1}],[{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1}],[{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1}],[{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1}]]},v=o(7),m=function(e){for(var t=Object(v.a)(e),o=[],i=0;i<4;i++){var n=Math.floor(4*Math.random());o.push(n)}return o[0]===o[2]&&o[1]===o[3]&&(o[0]=(o[0]+1)%4),t[o[0]][o[1]]=Object(s.a)({},t[o[0]][o[1]],{title:2,com_ani:!0}),t[o[2]][o[3]]=Object(s.a)({},t[o[2]][o[3]],{title:2,com_ani:!0}),t};!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Up=2]="Up",e[e.Down=3]="Down"}(i||(i={}));var h,b=function(e,t){var o=Object(v.a)(e),n=!1;if(t===i.Up)for(var r=0;r<4;r++){for(var a=[],c=[],l=0,s=0;s<4;s++)if(0!==e[s][r].title)0===l?l=e[s][r].title:e[s][r].title===l?(!1===n&&(n=!0),a.push(2*l),c.push(a.length-1),l=0):(a.push(l),l=e[s][r].title);else if(!1===n)for(var f=s;f<4;f++)0!==e[f][r].title&&(n=!0);0!==l&&a.push(l);for(var u=a.length,m=0;m<u;m++)o[m][r].title=a[m];for(var h=u;h<4;h++)o[h][r].title=0;for(var b=c.length,d=0;d<b;d++)o[c[d]][r].com_ani=!0}if(t===i.Down)for(var w=0;w<4;w++){for(var g=[],E=[],C=0,j=3;j>=0;j--)if(0!==e[j][w].title)0===C?C=e[j][w].title:e[j][w].title===C?(!1===n&&(n=!0),g.push(2*C),E.push(g.length-1),C=0):(g.push(C),C=e[j][w].title);else if(!1===n)for(var k=j;k>=0;k--)0!==e[k][w].title&&(n=!0);0!==C&&g.push(C);for(var _=g.length,R=0;R<_;R++)o[3-R][w].title=g[R];for(var x=0;x<4-_;x++)o[x][w].title=0;for(var O=E.length,D=0;D<O;D++)o[3-E[D]][w].com_ani=!0}if(t===i.Left)for(var S=0;S<4;S++){for(var M=[],y=[],A=0,z=0;z<4;z++)if(0!==e[S][z].title)0===A?A=e[S][z].title:e[S][z].title===A?(!1===n&&(n=!0),M.push(2*A),y.push(M.length-1),A=0):(M.push(A),A=e[S][z].title);else if(!1===n)for(var L=z;L<4;L++)0!==e[S][L].title&&(n=!0);0!==A&&M.push(A);for(var U=M.length,F=0;F<U;F++)o[S][F].title=M[F];for(var N=U;N<4;N++)o[S][N].title=0;for(var B=y.length,I=0;I<B;I++)o[S][y[I]].com_ani=!0}if(t===i.Right)for(var T=0;T<4;T++){for(var J=[],W=[],$=0,q=3;q>=0;q--)if(0!==e[T][q].title)0===$?$=e[T][q].title:e[T][q].title===$?(!1===n&&(n=!0),J.push(2*$),W.push(J.length-1),$=0):(J.push($),$=e[T][q].title);else if(!1===n)for(var G=q;G>=0;G--)0!==e[T][G].title&&(n=!0);0!==$&&J.push($);for(var H=J.length,K=0;K<H;K++)o[T][3-K].title=J[K];for(var P=3-H;P>=0;P--)o[T][P].title=0;for(var Q=W.length,V=0;V<Q;V++)o[T][3-W[V]].com_ani=!0}return n?p(o):o},p=function(e){for(var t=[],o=0;o<4;o++)for(var i=0;i<4;i++)0===e[o][i].title&&t.push({i:o,j:i});var n=t.length;if(n>0){var r=t[Math.floor(Math.random()*n)];e[r.i][r.j].title=2,e[r.i][r.j].com_ani=!0}return e},d=function(e){var t=Object(v.a)(e);return e.forEach((function(e){e.forEach((function(e){e.com_ani=!1}))})),t};!function(e){e[e.MoveUp=0]="MoveUp",e[e.MoveDown=1]="MoveDown",e[e.MoveLeft=2]="MoveLeft",e[e.MoveRight=3]="MoveRight",e[e.InitRandom=4]="InitRandom",e[e.ResetComAni=5]="ResetComAni"}(h||(h={}));var w=Object(f.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.InitRandom:return Object(s.a)({},e,{boxes:m(e.boxes)});case h.MoveUp:return Object(s.a)({},e,{boxes:b(e.boxes,i.Up)});case h.MoveDown:return Object(s.a)({},e,{boxes:b(e.boxes,i.Down)});case h.MoveLeft:return Object(s.a)({},e,{boxes:b(e.boxes,i.Left)});case h.MoveRight:return Object(s.a)({},e,{boxes:b(e.boxes,i.Right)});case h.ResetComAni:return Object(s.a)({},e,{boxes:d(e.boxes)});default:return e}})),g=function e(t){var o=this;Object(l.a)(this,e),this.dispatch=void 0,this.initRandom=function(){return o.dispatch({type:h.InitRandom})},this.moveUp=function(){return o.dispatch({type:h.MoveUp})},this.moveDown=function(){return o.dispatch({type:h.MoveDown})},this.moveLeft=function(){return o.dispatch({type:h.MoveLeft})},this.moveRight=function(){return o.dispatch({type:h.MoveRight})},this.resetComAni=function(){return o.dispatch({type:h.ResetComAni})},this.dispatch=t},E=o(9),C=(o(31),o(19));o(32);var j=o(15),k=function(e){var t=e.box,o=t.com_ani,i=function(e){var t={title:"",color:"",titleColor:"#F9F6F2",titleSize:"1vw"};switch(t.title=0===e?"":e.toString(),e){case 0:t.color="#CCC0B4";break;case 2:t.color="#EEE4DA",t.titleColor="#776E65",t.titleSize="10vmin";break;case 4:t.color="#EDE0C8",t.titleColor="#776E65",t.titleSize="10vmin";break;case 8:t.color="#F2B179",t.titleSize="10vmin";break;case 16:t.color="#F59563",t.titleSize="9vmin";break;case 32:t.color="#F67C5F",t.titleSize="9vmin";break;case 64:t.color="#F65E3B",t.titleSize="9vmin";break;case 128:t.color="#EDCF72",t.titleSize="7vmin";break;case 256:t.color="#EDCC61",t.titleSize="7vmin";break;case 512:t.color="#EDC850",t.titleSize="7vmin";break;case 1024:t.color="#EDC53F",t.titleSize="5vmin";break;case 2048:t.color="#EDC22E",t.titleSize="5vmin";break;default:t.color="#000",t.titleSize="4vmin"}return t}(t.title),a=i.title,c=i.color,l=i.titleColor,s=i.titleSize,f=Object(n.useState)(!0),u=Object(C.a)(f,2),v=u[0],m=u[1],h=Object(j.b)({from:{x:1},x:v?1:0,config:{duration:200}}).x;return Object(n.useEffect)((function(){!0===o&&m(!v)}),[o,v]),r.a.createElement(j.a.div,{className:"box",style:Object.assign({backgroundColor:c},{transform:h.interpolate({range:[0,.5,1],output:[1,1.25,1]}).interpolate((function(e){return"scale(".concat(e,")")}))})},r.a.createElement("p",{style:{color:l,fontSize:s},className:"title"},a))},_=(o(33),function(e){var t=e.boxes;return r.a.createElement("div",{className:"game-board"},t.map((function(e,t){return r.a.createElement("div",{className:"row",key:t},e.map((function(e,o){return r.a.createElement(k,{box:e,key:4*t+o})})))})))}),R=o(18),x=function(){var e=Object(E.c)((function(e){return e.boxes})),t=Object(E.b)(),o=new g(t);Object(n.useEffect)((function(){o.initRandom(),o.resetComAni();var e=function(e){var t=e.key,i=!1;"ArrowUp"===t&&(o.moveUp(),i=!0),"ArrowDown"===t&&(o.moveDown(),i=!0),"ArrowLeft"===t&&(o.moveLeft(),i=!0),"ArrowRight"===t&&(o.moveRight(),i=!0),i&&o.resetComAni()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]);var i=Object(R.a)({onSwipedLeft:function(e){o.moveLeft(),o.resetComAni()},onSwipedUp:function(e){o.moveUp(),o.resetComAni()},onSwipedDown:function(e){o.moveDown(),o.resetComAni()},onSwipedRight:function(e){o.moveRight(),o.resetComAni()},preventDefaultTouchmoveEvent:!0,trackMouse:!0,trackTouch:!0});return r.a.createElement("div",Object.assign({className:"container"},i),r.a.createElement(_,{boxes:e}))},O=(o(34),function(){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"button"},"RESET"))}),D=function(){return r.a.createElement(E.a,{store:w},r.a.createElement("div",{style:{backgroundColor:"#EEE4D9",width:"100vw",height:"100vh"}},r.a.createElement(O,null),r.a.createElement(x,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[20,1,2]]]);
//# sourceMappingURL=main.27f08bce.chunk.js.map