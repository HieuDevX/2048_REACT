(this["webpackJsonpreact-2048"]=this["webpackJsonpreact-2048"]||[]).push([[0],{19:function(t,e,o){t.exports=o(33)},24:function(t,e,o){},30:function(t,e,o){},31:function(t,e,o){},32:function(t,e,o){},33:function(t,e,o){"use strict";o.r(e);var n,r=o(0),i=o.n(r),a=o(10),c=o.n(a),l=(o(24),o(3)),s=o(4),f=o(11),u={boxes:[[{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1}],[{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1}],[{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1}],[{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1},{title:0,com_ani:!1}]]},v=o(6),h=function(t){for(var e=Object(v.a)(t),o=[],n=0;n<4;n++){var r=Math.floor(4*Math.random());o.push(r)}return o[0]===o[2]&&o[1]===o[3]&&(o[0]=(o[0]+1)%4),e[o[0]][o[1]]=Object(s.a)({},e[o[0]][o[1]],{title:2,com_ani:!0}),e[o[2]][o[3]]=Object(s.a)({},e[o[2]][o[3]],{title:2,com_ani:!0}),e};!function(t){t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Up=2]="Up",t[t.Down=3]="Down"}(n||(n={}));var m,b=function(t,e){var o=Object(v.a)(t),r=!1;if(e===n.Up)for(var i=0;i<4;i++){for(var a=[],c=[],l=0,s=0;s<4;s++)if(0!==t[s][i].title)0===l?l=t[s][i].title:t[s][i].title===l?(!1===r&&(r=!0),a.push(2*l),c.push(a.length-1),l=0):(a.push(l),l=t[s][i].title);else if(!1===r)for(var f=s;f<4;f++)0!==t[f][i].title&&(r=!0);0!==l&&a.push(l);for(var u=a.length,h=0;h<u;h++)o[h][i].title=a[h];for(var m=u;m<4;m++)o[m][i].title=0;for(var b=c.length,d=0;d<b;d++)o[c[d]][i].com_ani=!0}if(e===n.Down)for(var g=0;g<4;g++){for(var w=[],E=[],j=0,_=3;_>=0;_--)if(0!==t[_][g].title)0===j?j=t[_][g].title:t[_][g].title===j?(!1===r&&(r=!0),w.push(2*j),E.push(w.length-1),j=0):(w.push(j),j=t[_][g].title);else if(!1===r)for(var x=_;x>=0;x--)0!==t[x][g].title&&(r=!0);0!==j&&w.push(j);for(var C=w.length,k=0;k<C;k++)o[3-k][g].title=w[k];for(var O=0;O<4-C;O++)o[O][g].title=0;for(var R=E.length,M=0;M<R;M++)o[3-E[M]][g].com_ani=!0}if(e===n.Left)for(var D=0;D<4;D++){for(var y=[],L=[],A=0,U=0;U<4;U++)if(0!==t[D][U].title)0===A?A=t[D][U].title:t[D][U].title===A?(!1===r&&(r=!0),y.push(2*A),L.push(y.length-1),A=0):(y.push(A),A=t[D][U].title);else if(!1===r)for(var F=U;F<4;F++)0!==t[D][F].title&&(r=!0);0!==A&&y.push(A);for(var B=y.length,I=0;I<B;I++)o[D][I].title=y[I];for(var N=B;N<4;N++)o[D][N].title=0;for(var J=L.length,S=0;S<J;S++)o[D][L[S]].com_ani=!0}if(e===n.Right)for(var W=0;W<4;W++){for(var $=[],q=[],z=0,G=3;G>=0;G--)if(0!==t[W][G].title)0===z?z=t[W][G].title:t[W][G].title===z?(!1===r&&(r=!0),$.push(2*z),q.push($.length-1),z=0):($.push(z),z=t[W][G].title);else if(!1===r)for(var H=G;H>=0;H--)0!==t[W][H].title&&(r=!0);0!==z&&$.push(z);for(var K=$.length,P=0;P<K;P++)o[W][3-P].title=$[P];for(var Q=3-K;Q>=0;Q--)o[W][Q].title=0;for(var T=q.length,V=0;V<T;V++)o[W][3-q[V]].com_ani=!0}return r?p(o):o},p=function(t){for(var e=[],o=0;o<4;o++)for(var n=0;n<4;n++)0===t[o][n].title&&e.push({i:o,j:n});var r=e.length;if(r>0){var i=e[Math.floor(Math.random()*r)];t[i.i][i.j].title=2,t[i.i][i.j].com_ani=!0}return t},d=function(t){var e=Object(v.a)(t);return t.forEach((function(t){t.forEach((function(t){t.com_ani=!1}))})),e};!function(t){t[t.MoveUp=0]="MoveUp",t[t.MoveDown=1]="MoveDown",t[t.MoveLeft=2]="MoveLeft",t[t.MoveRight=3]="MoveRight",t[t.InitRandom=4]="InitRandom",t[t.ResetComAni=5]="ResetComAni"}(m||(m={}));var g=Object(f.b)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case m.InitRandom:return Object(s.a)({},t,{boxes:h(t.boxes)});case m.MoveUp:return Object(s.a)({},t,{boxes:b(t.boxes,n.Up)});case m.MoveDown:return Object(s.a)({},t,{boxes:b(t.boxes,n.Down)});case m.MoveLeft:return Object(s.a)({},t,{boxes:b(t.boxes,n.Left)});case m.MoveRight:return Object(s.a)({},t,{boxes:b(t.boxes,n.Right)});case m.ResetComAni:return Object(s.a)({},t,{boxes:d(t.boxes)});default:return t}})),w=function t(e){var o=this;Object(l.a)(this,t),this.dispatch=void 0,this.initRandom=function(){return o.dispatch({type:m.InitRandom})},this.moveUp=function(){return o.dispatch({type:m.MoveUp})},this.moveDown=function(){return o.dispatch({type:m.MoveDown})},this.moveLeft=function(){return o.dispatch({type:m.MoveLeft})},this.moveRight=function(){return o.dispatch({type:m.MoveRight})},this.resetComAni=function(){return o.dispatch({type:m.ResetComAni})},this.dispatch=e},E=o(9),j=(o(30),o(18));o(31);var _=o(15),x=function(t){var e=t.box,o=e.com_ani,n=function(t){var e={title:"",color:"",titleColor:"#F9F6F2"};switch(e.title=0===t?"":t.toString(),t){case 0:e.color="#CCC0B4";break;case 2:e.color="#EEE4DA",e.titleColor="#776E65";break;case 4:e.color="#EDE0C8",e.titleColor="#776E65";break;case 8:e.color="#F2B179";break;case 16:e.color="#F59563";break;case 32:e.color="#F67C5F";break;case 64:e.color="#F65E3B";break;case 128:e.color="#EDCF72";break;case 256:e.color="#EDCC61";break;case 512:e.color="#EDC850";break;case 1024:e.color="#EDC53F";break;case 2048:e.color="#EDC22E";break;default:e.color="#000"}return e}(e.title),a=n.title,c=n.color,l=n.titleColor,s=Object(r.useState)(!0),f=Object(j.a)(s,2),u=f[0],v=f[1],h=Object(_.b)({from:{x:0},x:u?1:0,config:{duration:200}}).x;return Object(r.useEffect)((function(){!0===o&&v(!u)}),[o,u]),i.a.createElement(_.a.div,{className:"box",style:Object.assign({backgroundColor:c},{transform:h.interpolate({range:[0,.5,1],output:[1,1.1,1]}).interpolate((function(t){return"scale(".concat(t,")")}))})},i.a.createElement("p",{style:{color:l},className:"title"},a))},C=(o(32),function(t){var e=t.boxes;return i.a.createElement("div",{className:"game-board"},e.map((function(t,e){return i.a.createElement("div",{className:"row",key:e},t.map((function(t,o){return i.a.createElement(x,{box:t,key:4*e+o})})))})))}),k=function(){var t=Object(E.c)((function(t){return t.boxes})),e=Object(E.b)(),o=new w(e),n=function(t){var e=t.key;"ArrowUp"===e&&o.moveUp(),"ArrowDown"===e&&o.moveDown(),"ArrowLeft"===e&&o.moveLeft(),"ArrowRight"===e&&o.moveRight(),o.resetComAni()};return Object(r.useEffect)((function(){return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[]),Object(r.useEffect)((function(){o.initRandom(),o.resetComAni()}),[]),i.a.createElement("div",{className:"container"},i.a.createElement(C,{boxes:t}))},O=function(){return i.a.createElement(E.a,{store:g},i.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.a6c988d7.chunk.js.map